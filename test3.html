<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>성격유형 검사</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-gradient-to-b from-blue-50 via-purple-50 to-pink-50 min-h-screen p-6"
  >
    <div class="max-w-5xl mx-auto">
      <h1 class="text-3xl font-bold text-center text-purple-700 mb-6">
        🤔 골드버그의 간이 BIG FIVE 성격 검사 🤔
      </h1>
      <p>
        아래의 표를 보고 자신을 가능한 한 정확하게 기술해보세요. 미래에 되고
        싶은 모습이 아닌 ‘현재’의 모습을 나타내는 것이 중요합니다. 당신과 같은
        성별의 비슷한 나이의 다른 사람들과 비교해서 자신이 어떤지 적절한 답변에
        체크해주세요. 문항에는 옳고 그른 답이 없으니, 한 문항도 빠트리지 말고
        아래의 질문에 솔직하게 응답해주세요. 각 문항은 1~5점입니다.
      </p>
      <form id="personalityForm" class="space-y-4">
        <div
          class="grid grid-cols-7 text-center font-semibold bg-purple-100 rounded-lg py-2"
        >
          <div>문항</div>
          <div>매우</div>
          <div>조금</div>
          <div>중간</div>
          <div>조금</div>
          <div>매우</div>
          <div>문항</div>
        </div>
      </form>

      <div class="text-center mt-6">
        <button
          type="submit"
          form="personalityForm"
          class="px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600"
        >
          결과 보기
        </button>
      </div>
    </div>

    <script>
      const questions = [
        ["말이 없고 조용하다.", "말이 많은 편이다."],
        ["자기주장이 약한 편이다", "자기주장이 강한 편이다."],
        ["모험적인 것을 즐기지 않는다.", "모험적인 것을 좋아한다."],
        ["나는 활동적인 편이 아니다.", "나는 활동적인 편이다."],
        ["소심한 편이다.", "대담하다는 소리를 듣는다."],
        ["남들에게 친절하지 못하다.", "남들에게 친절한 편이다."],
        ["비협조적인 때가 많다.", "협조적인 편이다."],
        ["이기적인 때가 많다.", "이타심이 강하다."],
        ["타인을 잘 믿지 않는다.", "타인을 잘 믿는 편이다."],
        ["남들에게 인색한 편이다.", "남에게 관대한 편이다."],
        ["비조직적인 편이다.", "조직적으로 행동한다."],
        ["무책임할 때가 많다.", "책임감이 있다."],
        ["현실적이지 못하다.", "현실적인 편이다."],
        ["부주의로 인한 실수가 많다.", "매사에 철저하다."],
        ["게으른 편이다.", "근면한 편이다."],
        ["이완되어 있을 때가 많다.", "항상 긴장되어 있다."],
        ["마음이 편안하다.", "불안한 편이다."],
        ["안정되어 있는 편이다.", "불안정할 때가 많다."],
        ["현재의 상태에 만족한다.", "불만족한 상태에 있다."],
        ["냉정할 때가 많다.", "감정적인 편이다."],
        ["상상력이 약하다.", "상상력이 풍부하다."],
        ["창의적인 부분이 부족하다.", "창의적인 편이다."],
        ["호기심이 없는 편이다.", "호기심이 많다."],
        ["새로운 일이 흥미롭지 않다.", "새로운 일을 해보는 것이 즐겁다."],
        ["단순하게 생각하는 편이다.", "다양하게 생각하는 편이다."],
      ];

      const form = document.getElementById("personalityForm");

      questions.forEach((pair, idx) => {
        const row = document.createElement("div");
        row.className =
          "grid grid-cols-7 items-center bg-white rounded-lg shadow p-2";

        const left = document.createElement("div");
        left.textContent = pair[0];
        left.className = "text-left text-sm";

        const right = document.createElement("div");
        right.textContent = pair[1];
        right.className = "text-right text-sm";

        row.appendChild(left);

        for (let i = 1; i <= 5; i++) {
          const cell = document.createElement("div");
          const input = document.createElement("input");
          input.type = "radio";
          input.name = `q${idx + 1}`;
          input.value = i;
          input.className = "w-4 h-4";
          input.required = true;
          cell.appendChild(input);
          cell.className = "flex justify-center";
          row.appendChild(cell);
        }

        row.appendChild(right);
        form.appendChild(row);
      });

      // 점수 계산 로직
      const questionGroups = {
        ex: [1, 2, 3, 4, 5], // 외향성
        ag: [6, 7, 8, 9, 10], // 친화성
        co: [11, 12, 13, 14, 15], // 성실성
        ne: [16, 17, 18, 19, 20], // 신경증
        op: [21, 22, 23, 24, 25], // 개방성
      };

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const scores = { ex: 0, ag: 0, co: 0, ne: 0, op: 0 };

        Object.entries(questionGroups).forEach(([trait, nums]) => {
          nums.forEach((num) => {
            const value = parseInt(
              document.querySelector(`input[name="q${num}"]:checked`).value
            );
            scores[trait] += value;
          });
        });

        // 결과 페이지로 이동 (person.html)
        const params = new URLSearchParams(scores).toString();
        window.location.href = `person.html?${params}`;
      });
    </script>
  </body>
</html>
