<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ì‚¬ë‘ìœ í˜• ê²€ì‚¬ ê²°ê³¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-gradient-to-b from-pink-50 via-pink-100 to-rose-50 text-gray-800 font-sans"
  >
    <div class="max-w-5xl mx-auto px-5 py-10">
      <!-- í—¤ë” -->
      <header class="mb-6 text-center">
        <h1 class="text-3xl md:text-4xl font-extrabold text-pink-700">
          ğŸ’– ì‚¬ë‘ìœ í˜• ê²€ì‚¬ ê²°ê³¼
        </h1>
        <p class="mt-2 text-sm text-pink-700">
          ìœ í˜•ë³„ ì ìˆ˜ì™€ ì„¤ëª…ì„ í™•ì¸í•˜ì„¸ìš”. (ê° ìœ í˜• ìµœëŒ€ 12ì )
        </p>
      </header>

      <!-- TOP ë°°ì§€ -->
      <div id="topBadge" class="hidden mb-4 text-center">
        <span
          class="inline-flex items-center gap-2 rounded-full bg-pink-100 px-4 py-1.5 text-sm font-semibold text-pink-700 border border-pink-200"
        >
          ğŸŒŸ ìµœê³  ìœ í˜•: <span id="topTypesText"></span>
        </span>
      </div>

      <section
        class="rounded-xl border border-gray-300 overflow-hidden shadow-sm bg-white"
      >
        <div class="bg-black text-white px-4 py-2 font-semibold text-sm">
          ì‚¬ë‘ìœ í˜• ê²°ê³¼í‘œ
        </div>
        <div class="divide-y divide-gray-200" id="resultRows"></div>
      </section>

      <div class="mt-6 flex flex-wrap gap-3">
        <button
          id="copyBtn"
          class="rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm hover:bg-gray-50"
        >
          ê²°ê³¼ ë³µì‚¬
        </button>
        <a
          href="test2.html"
          class="rounded-xl bg-pink-500 text-white px-4 py-2 text-sm font-semibold hover:bg-pink-600"
          >ë‹¤ì‹œ ê²€ì‚¬</a
        >
        <a
          href="index.html"
          class="rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm hover:bg-gray-50"
          >ê²€ì‚¬ ì„ íƒìœ¼ë¡œ</a
        >
      </div>
    </div>

    <script>
      const TYPE_INFO = {
        coworker: {
          ko: "ë™ë£Œì  ì‚¬ë‘",
          latin: "Storge",
          bullets: [
            "ì¹œêµ¬ì—ê²Œì„œ ëŠë¼ëŠ” ìš°ì • ê°™ì€ ì‚¬ë‘",
            "ì‚¬ë‘ì€ ë§ì€ ì‹œê°„ê³¼ í™œë™ì„ ê³µìœ í•˜ëŠ” íŠ¹ë³„í•œ ìš°ì •ì´ë¼ê³  ê¸°ëŒ€í•¨",
            "ìƒëŒ€ë°©ì— ëŒ€í•œ ëœ¨ê±°ìš´ ì—´ì •ë³´ë‹¤ëŠ” ì¼ìƒì ì¸ í—Œì‹ ì´ ê°œì…ë˜ì§€ëŠ” ì•Šìœ¼ë‚˜ ê¹Šì€ ì‹ ë¢°ì™€ ì¡´ì¤‘ì— ë°”íƒ•ì„ ë‘ ",
            "ì˜ˆ) í‰ìƒë™ì•ˆ ì¸ìƒì˜ í’íŒŒë¥¼ í•¨ê»˜ í—¤ì³ ì˜¨ ë™ë°˜ì ê°„ì˜ ì‚¬ë‘",
          ],
        },
        altruistic: {
          ko: "ì´íƒ€ì  ì‚¬ë‘",
          latin: "Agape",
          bullets: [
            "ë¬´ì¡°ê±´ì ì´ê³  í—Œì‹ ì ìœ¼ë¡œ íƒ€ì¸ì„ ìœ„í•˜ê³  ë³´ì‚´í”¼ëŠ” ì‚¬ë‘",
            "ì¡°ê±´ì—†ì´ ì¢‹ì•„í•˜ê³  ëŒë´ì£¼ë©°, ìš©ì„œí•˜ê³  ë² í’€ì–´ì£¼ëŠ” ìê¸° í¬ìƒì  ì‚¬ë‘",
            "ì§„ì •í•œ ì‚¬ë‘ì´ë€ ë°›ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì£¼ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ëŠ” í¸",
            "ì‚¬ë‘ì˜ ì¡°ê±´ì€ ìƒëŒ€ê°€ ìì‹ ì„ ì–¼ë§ˆë‚˜ í•„ìš”ë¡œ í•˜ëŠëƒì´ê¸° ë•Œë¬¸ì—, ë” ì´ìƒ ìƒëŒ€ê°€ ìì‹ ì„ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í™•ì‹ í•˜ë©´ ì‚¬ë‘ì´ ëë‚¨",
            "ì˜ˆ) ì‹ ì˜ ì‚¬ë‘, ë¶€ëª¨ì˜ ì‚¬ë‘",
          ],
        },
        logical: {
          ko: "ë…¼ë¦¬ì  ì‚¬ë‘",
          latin: "Pragma",
          bullets: [
            "í˜„ëª…í•˜ê²Œ ì‚¬ë‘ì„ í•˜ë ¤ëŠ” ì‚¬ëŒë“¤ì˜ ì‚¬ë‘",
            "ìì‹ ì´ ì–´ë–¤ ìœ í˜•ì˜ ìƒëŒ€ë¥¼ ì„ í˜¸í•˜ëŠ” ê¸°ì¤€ì´ êµ¬ì²´ì ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ìê¸° ìì‹ ì˜ ê°•ì ê³¼ ì•½ì ë„ ì¶©ë¶„íˆ ê³ ë ¤í•˜ê³  ìˆìŒ",
            "ë…¼ë¦¬ì  ì‚¬ë‘ì„ í•˜ëŠ” ì‚¬ëŒì´ë¼ê³  í•´ì„œ ë‚­ë§Œì  ê°€ì¹˜ë¥¼ ì „í˜€ ì¸ì •í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹˜",
            "ì˜ˆ) ì„ ì´ë‚˜ ì¤‘ë§¤ë¥¼ í†µí•´ ìì‹ ì—ê²Œ ì í•©í•œ ì¡°ê±´ì„ ì§€ë‹Œ ìƒëŒ€ë¥¼ ë§Œë‚˜ê³  ì‚¬ë‘í•˜ê²Œ ë¨",
          ],
        },
        possessive: {
          ko: "ì†Œìœ ì  ì‚¬ë‘",
          latin: "Mania",
          bullets: [
            "ì‚¬ë‘ì´ë€ ìƒëŒ€ë°©ì„ ì™„ì „íˆ ì†Œìœ í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ëŠ” ë™ì‹œì— ìƒëŒ€ë¡œë¶€í„° ë‚´ê°€ ì†Œìœ ë‹¹í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ëŠ” ìœ í˜•",
            "ì‚¬ë‘í• ìˆ˜ë¡ ë‘ë ¤ì›Œí•¨ â€” ì‚¬ë‘ì„ í˜ê²¹ê³  ê³ í†µìŠ¤ëŸ½ë‹¤ê³  ì—¬ê¹€",
            "ì‚¬ë‘ì„ ì–»ê¸° ìœ„í•´ í˜„ì‹¤ì ì¸ ë…¸ë ¥ì„ ê¸°ìš¸ì„",
            "ìƒëŒ€ë¥¼ ë§¤ì¼ ë§Œë‚˜ëŠ” ê²ƒì„ í†µí•´ í–‰ë³µì„ ëŠë‚Œ",
            "ì¢…ì¢… ìì‹ ê³¼ ìƒëŒ€ë°©ì˜ ë¯¸ë˜ ëª¨ìŠµì„ ìƒìƒí•˜ê¸°ë„ í•¨",
          ],
        },
        romantic: {
          ko: "ë‚­ë§Œì  ì‚¬ë‘",
          latin: "Eros",
          bullets: [
            "ëœ¨ê±°ìš´ ì—´ì •ì´ ì¤‘ìš”í•œ ìš”ì†Œê°€ ë˜ëŠ” ê°•ë ¬í•œ ì‚¬ë‘",
            "ì‚¬ë‘ì€ ì˜ì›í•  ê²ƒì´ë¼ëŠ” ì‹ ë…, ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì— ëŒ€í•œ ê³„ì†ì ì¸ ìƒê°, ì‚¬ë‘ì„ ìœ„í•´ ë¬´ì—‡ì´ë“  í•˜ë ¤ëŠ” ì¶©ë™ì´ ê°œì…ë¨",
            "ë‚­ë§Œì  ì‚¬ë‘ì„ ê¿ˆê¾¸ëŠ” ì‚¬ëŒì€ ìì‹ ë„ ë™í™” ì† ì£¼ì¸ê³µì²˜ëŸ¼ ìƒê¸°ë¥¼ ì›í•¨",
            "ì„¸ìƒì—ì„œ ë‚­ë§Œì ì´ê³  ì—´ì •ì ì¸ ì‚¬ë‘ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ê³  ë¯¿ìŒ",
            "ì˜ˆ) ë¡œë¯¸ì˜¤ì™€ ì¤„ë¦¬ì—£ì‹ ì‚¬ë‘",
          ],
        },
        playful: {
          ko: "ìœ í¬ì  ì‚¬ë‘",
          latin: "Ludus",
          bullets: [
            "ë†€ì´ì™€ ê°™ì´ ì¬ë¯¸ì™€ ì¾Œë½ì„ ì¤‘ìš”ì‹œí•˜ëŠ” ì‚¬ë‘",
            "ì‚¬ë‘ì€ ì¦ê¸°ê¸° ìœ„í•œ ë„ì „, ì´ê¸°ê¸° ìœ„í•œ ì‹œí•©ìœ¼ë¡œ ì—¬ê¸°ê¸°ë„ í•¨",
            "ì‚¬ë‘ì€ í—Œì‹ ë³´ë‹¤ ì¬ë¯¸ë¥¼ ìœ„í•œ ê²ƒ, ê´€ê³„ì— ê°€ì¥ ì¤‘ìš”í•œ ê²ƒìœ¼ë¡œ ë³´ì§€ ì•ŠëŠ” í¸",
            "ì—¬ëŸ¬ ëª…ì˜ íŒŒíŠ¸ë„ˆë¥¼ ë‘¡ê±°ë‚˜ ë™ì‹œì— ì‚¬ë‘í•˜ëŠ” ê²ƒì— ì–‘ì‹¬ì˜ ê°€ì±…ì„ ëŠë¼ì§€ ì•ŠìŒ",
            "ì˜ˆ) ìƒ‰ì˜ ì„ í˜¸, ì•„ì´ìŠ¤ë¸Œë ˆì´í‚¹ì˜ ì†Œì…œì  ì‚¬ë‘ì— ëŒ€í•œ ì„ í˜¸ì˜ ë‹¤ì–‘ì„±",
          ],
        },
      };

      const ORDER = [
        "coworker",
        "altruistic",
        "logical",
        "possessive",
        "romantic",
        "playful",
      ];

      const params = new URLSearchParams(location.search);
      const scores = Object.fromEntries(
        ORDER.map((k) => [k, Number(params.get(k) || 0)])
      );
      const maxScore = Math.max(...Object.values(scores));
      const topTypes = ORDER.filter(
        (k) => scores[k] === maxScore && maxScore > 0
      );

      if (topTypes.length) {
        document.getElementById("topTypesText").textContent = topTypes
          .map((k) => `${TYPE_INFO[k].ko}`)
          .join(", ");
        document.getElementById("topBadge").classList.remove("hidden");
      }

      const rows = document.getElementById("resultRows");

      ORDER.forEach((k) => {
        const info = TYPE_INFO[k];
        const score = scores[k];
        const isTop = score === maxScore && maxScore > 0;
        const row = document.createElement("div");
        row.className = `grid grid-cols-[10rem_1fr_5rem] items-stretch ${
          isTop ? "bg-pink-50 ring-2 ring-pink-300" : ""
        }`;

        const left = document.createElement("div");
        left.className = "px-3 py-4 border-r border-gray-200 bg-gray-50";
        left.innerHTML = `<div class="font-bold text-gray-800">${info.ko}</div>
                                <div class="text-xs text-gray-500">${info.latin}</div>`;

        const mid = document.createElement("div");
        mid.className = "px-4 py-3";
        const ul = document.createElement("ul");
        ul.className = "list-disc pl-5 leading-7 text-sm";
        info.bullets.forEach((t) => {
          const li = document.createElement("li");
          li.textContent = t;
          ul.appendChild(li);
        });
        mid.appendChild(ul);

        const right = document.createElement("div");
        right.className =
          "relative px-3 py-3 border-l border-gray-200 text-right";
        const topBadge = isTop
          ? '<span class="absolute -top-2 -right-2 inline-flex items-center rounded-full bg-pink-500 text-white text-[10px] px-2 py-0.5 shadow">TOP</span>'
          : "";
        right.innerHTML = `${topBadge}
                <div class="text-[11px] text-gray-400">ì </div>
                <div class="text-xl font-extrabold">${score}</div>
                <div class="mt-2 h-2 rounded bg-gray-100 overflow-hidden">
                  <div class="h-full bg-gradient-to-r from-pink-300 to-rose-400" style="width: ${
                    (score / 12) * 100
                  }%"></div>
                </div>`;

        row.appendChild(left);
        row.appendChild(mid);
        row.appendChild(right);
        rows.appendChild(row);
      });

      document.getElementById("copyBtn").addEventListener("click", async () => {
        const lines = ORDER.map((k) => `${TYPE_INFO[k].ko}: ${scores[k]}`);
        const topLine = topTypes.length
          ? `\nìµœê³  ìœ í˜•: ${topTypes.map((k) => TYPE_INFO[k].ko).join(", ")}`
          : "";
        const text = "ì‚¬ë‘ìœ í˜• ê²€ì‚¬ ê²°ê³¼\n" + lines.join("\n") + topLine;
        try {
          await navigator.clipboard.writeText(text);
        } catch (e) {}
      });
    </script>
  </body>
</html>
